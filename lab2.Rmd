---
title: "Lab2"
author: "Samson Olivero"
date: "2/4/2021"
output: 
  html_document:
    toc: yes
    toc_float: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Tasks

## Task 1

Get working directory

```{r}
getwd()
```

## Task 2

Read data into R

```{r}
epagas = read.csv("EPAGAS.csv")
```

Get the first six lines of data

```{r}
head(epagas)
```

## Task 3

Make the Object MPG vector 

```{r}
mpg = epagas$MPG #Creates a vector of the object MPG in epagas file
```

Transform MPG to z and verify

```{r}
z = (mpg - mean(mpg)) / sd(mpg) #formula found in word file 
head(z)
#paste0() function in R Language is used to concatenate all elements without separator.
#round answer to the 4th decimal point
#Get rid of quotation marks
print(paste0("Mean = ", round(mean(z), digits = 4)), quote = FALSE)
#variance is a measure of how spread out a data set is. It is calculated as the average squared deviation of each number from the mean of a data set
print(paste0("Variance = ", var(z)), quote = FALSE)
#Standard deviation is the measure of dispersion of a set of data from its mean. It measures the    absolute variability of a distribution
print(paste0("Standard Deviation = ", sd(z)), quote = FALSE)
```


Finding possible MPG outliers using z

```{r}
outliers = mpg[abs(z) >= 2 & abs(z) <= 3]
outliers
```


Finding defined MPG outliers using z

```{r}
defOutliers = mpg[abs(z) > 3]
defOutliers
```


Using Lattice Package construct colored dotplot

```{r}
#Red = Outlier; Blue= Possible Outlier
mpgcol = 
  ifelse(
    abs(z) > 3, "Red",
    ifelse(
      abs(z) >= 2 & abs(z) <= 3, "Blue",
        "Black"
          )
        )

library(lattice)
dotplot(mpg, col = mpgcol, main = "Dotplot of MPG Values")
```


## Task 4

Make a boxplot of mpg variables

```{r}
#Black Box, Notch for Median, Title, and Horizontal
boxplot(mpg, notch = TRUE, horizontal = TRUE, col = "Black", xlab = "MPG", main = "Boxplot of MPG")
```


Use Chebyshev's theorem to predict the proportion of data within 2 standard deviations of the mean of mpg data

>Chebyshevs Theorem:
>
>$1 - \frac{1}{k^2}$
>
>Therefore: with k = 2; $1 - \frac{1}{4} = \frac{3}{4}$

```{r}
k = 2
cheb = 1 - (1/k^2)
cheb
```

Calculate Exact Proportion within 2 standard deviations of the mean

Actual Case:
```{r}
length(mpg[abs(z)<2]) / length(mpg)
```

Does Chebyshev Agree with the data ?

>In this case Chebyshev does agree with the data. The prediction for Chebyshev in the second standard deviation of the mean is at least 75%. In reality, 96% of the data lies within the second standard deviation of the mean, therefore, meeting Chebyshev's criteria.


Empirical Rule: what proportion of the data should be within 2 standard deviations of the mean

>95% of measurements of graphs that are in a bell-shaped curve and symmetric distribution should lie within 2 standard deviations of the mean


How well does it correspond ?

>The proportion of the actual case(96%) and the Empirical Rule(95%) are incredible similar. With the data having a 1% difference between the two.


Is the Empirical Rule Valid ? Why ?

>In this case, the Empirical Rule is valid because the actual cases for the first, second, and third standard deviations are all fairly close, if not the same, to what the Empirical Rule predicts. Listed in the code below are the actual cases which are incredibly similar to the 68%, 95%, and ~100% the Empirical Rule predicts. With the numbers respectively being so close together, it is safe to say the point is valid. 

```{r}
#First Standard Deviation
length(mpg[mean(mpg)-sd(mpg) < mpg & mpg < mean(mpg)+ sd(mpg) ])/length(mpg)
#Second Standard Deviation
length(mpg[mean(mpg)-2*sd(mpg) < mpg & mpg < mean(mpg)+ 2*sd(mpg) ])/length(mpg)
#Third Standard Deviation
length(mpg[abs(z)<3])/length(mpg)

#Unimodel graph
den = density(mpg)
plot(den, main = "Distribution of MPG")
abline(v = mean(mpg), col = "Red")
```

>It is also important to note that the graph for the data follows the criteria in which data forms a "bell-shaped" curve and is symmetrically distributed. This creates a perfect instance of data to predict the standard deviation of the mean with the Empirical Rule method. 


